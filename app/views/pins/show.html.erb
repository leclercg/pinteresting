<div class="row">
  <div class="col-xs-6 col-sm-4" id="PinDetails">
    <p><%= link_to 'Next', @pin.next_image %> | <%= link_to 'Previous', @pin.previous_image %></p>

    <p>Added <%= time_ago_in_words(@pin.created_at) %> ago</p>
    <p><%= @pin.description %></p>
    <p><strong><%= link_to @pin.user.name, @pin.user if @pin.user %></strong></p>
    <p><% @pin.tags.each do |tag| %>
        <span class="label label-teal">
          <%= link_to tag.name, tag_path(tag.name) %>
        </span>
    <% end %></p>
    <% if current_user && @pin.user == current_user %>
       <%= link_to edit_pin_path(@pin) do %>
          <span class="glyphicon glyphicon-edit"></span>
          Edit
       <% end %>
    <% end %>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-8">
    <div id="PinPanel">
      <%= image_tag(@pin.image(:original), id: "pinImage", width: "100%", height: "100%") %>
    </div>
  </div>
</div>
<script language="JavaScript" type="text/javascript">
$('#pinImage').click(function() {
  $('#PinPanel').find('img').fadeTo(0, 1);
    if ($('#pinImage').hasClass('enlarged')) {
        // going to smaller version
        $('#pinImage').removeClass('enlarged');
        $("#pinImage").stop().animate({width: "100%", height: "100%"}, 200 );
        var pinDetails = document.querySelector("#PinDetails");
        pinDetails.style.display = 'block';
    } else {
        // going to full size
        var myImg = document.querySelector("#pinImage");
        var pinDetails = document.querySelector("#PinDetails");
        var realWidth = myImg.naturalWidth;
        var realHeight = myImg.naturalHeight;

        $('#pinImage').addClass('enlarged')
        $("#pinImage").stop().animate({width: realWidth, height: realHeight}, 200 );
        pinDetails.style.display = 'none';

    }

  });
</script>